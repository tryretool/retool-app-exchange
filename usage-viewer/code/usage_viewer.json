{"uuid":"30bdc4b6-c745-11ec-98dd-27532a4d4216","page":{"id":25603,"data":{"appState":"[\"~#iR\",[\"^ \",\"n\",\"appTemplate\",\"v\",[\"^ \",\"isFetching\",false,\"plugins\",[\"~#iOM\",[\"topApps\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"topApps\",\"type\",\"function\",\"subtype\",\"Function\",\"namespace\",null,\"resourceName\",null,\"resourceDisplayName\",null,\"template\",[\"^3\",[\"funcBody\",\"// Calculate top 10 apps by app views and by queries, and sum the remaining.\\n// For use with viewsChart and queriesChart components.\\n\\nconst tableArray = {{appTable.displayedData}}\\nconst tableArrayInts = []     \\n\\nfor (i = 0; i < tableArray.length; i++) {\\n  tableArrayInts.push({\\n    \\\"appName\\\": tableArray[i].appName,\\n    \\\"pageviews\\\": parseInt(tableArray[i].pageviews),\\n    \\\"queries\\\": parseInt(tableArray[i].queries),\\n  })\\n}\\n      \\nconst pageviewSortArray = tableArrayInts.slice().sort((b,a) => a.pageviews - b.pageviews)\\nconst querySortArray = tableArrayInts.slice().sort((b,a) => a.queries - b.queries)\\n\\nfunction topArray(inputArray, key) {\\n  let newArray = inputArray.slice(0,10)\\n  const other = inputArray.slice(11)\\n  const otherValues = other.map(obj => obj[key])\\n  const otherSum = otherValues.reduce((a,b) => a + b, 0)\\n  newArray.push({appName: \\\"Other\\\", [key]: otherSum})\\n  return newArray\\n}\\n\\nconst topViews = topArray(pageviewSortArray, \\\"pageviews\\\")\\nconst topQueries = topArray(querySortArray, \\\"queries\\\")\\n\\nreturn {topViews, topQueries}\",\"value\",\"\"]],\"style\",null,\"position2\",null,\"mobilePosition2\",null,\"mobileAppPosition\",null,\"tabIndex\",null,\"container\",\"\",\"createdAt\",\"~m1651250294554\",\"updatedAt\",\"~m1651258177682\",\"folder\",\"transformers\",\"screen\",null]]],\"quartiles\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"quartiles\",\"^4\",\"function\",\"^5\",\"Function\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"funcBody\",\"// Define quartile boundaries for data currently displayed in the % columns, used in determining background colors.\\n\\nconst viewsArray = {{appTable.columnMappers['Custom Column 1']}}\\nconst queriesArray = {{appTable.columnMappers['Custom Column 2']}}\\n\\n// Taken from https://stackoverflow.com/a/48719875\\nfunction quartile(data, q) {\\n  data = arraySortNumbers(data);\\n  var pos = ((data.length) - 1) * q;\\n  var base = Math.floor(pos);\\n  var rest = pos - base;\\n  if( (data[base+1]!==undefined) ) {\\n    return data[base] + rest * (data[base+1] - data[base]);\\n  } else {\\n    return data[base];\\n  }\\n}\\n\\nfunction arraySortNumbers(inputArray){\\n  return inputArray.sort(function(a, b) {\\n    return a - b;\\n  });\\n}\\n\\nconst views25 = quartile(viewsArray, .25)\\nconst views50 = quartile(viewsArray, .5)\\nconst views75 = quartile(viewsArray, .75)\\nconst queries25 = quartile(queriesArray, .25)\\nconst queries50 = quartile(queriesArray, .5)\\nconst queries75 = quartile(queriesArray, .75)\\n\\nreturn {views25, views50, views75, queries25, queries50, queries75}\",\"value\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651190112566\",\"^A\",\"~m1651257178233\",\"^B\",\"transformers\",\"^C\",null]]],\"totals\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"totals\",\"^4\",\"datasource\",\"^5\",\"SqlQueryUnified\",\"^6\",null,\"^7\",\"91949560-c1a0-41ad-99e2-9557982af823\",\"^8\",\"Retool Audit Log\",\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"records\",\"\",\"lastReceivedFromResourceAt\",null,\"databasePasswordOverride\",\"\",\"queryDisabledMessage\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",true,\"showFailureToaster\",true,\"query\",\"-- Get totals of app views and queries to calculate % columns.\\n\\nselect \\n sum(case when \\\"actionType\\\" = 'PAGE_VIEW' then 1 else 0 end) as pageviews,\\n sum(case when \\\"actionType\\\" = 'QUERY_RUN' then 1 else 0 end) as queries\\nfrom \\n\\taudit_trail_events e \\nwhere \\n\\t(\\\"actionType\\\" = 'PAGE_VIEW' or \\\"actionType\\\" = 'QUERY_RUN')\\n  and \\\"createdAt\\\" >= {{dateRange.value.start}}\\n  and \\\"createdAt\\\" <= {{dateRange.value.end}}\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"privateParams\",[\"~#iL\",[]],\"runWhenPageLoadsDelay\",\"\",\"warningCodes\",[\"^D\",[]],\"data\",null,\"recordId\",\"\",\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"dataArray\",[\"^D\",[]],\"cacheKeyTtl\",\"\",\"filterBy\",\"\",\"databaseHostOverride\",\"\",\"metadata\",null,\"editorMode\",\"sql\",\"actionType\",\"\",\"changesetObject\",\"\",\"shouldUseLegacySql\",false,\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"databaseNameOverride\",\"\",\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"enableBulkUpdates\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"bulkUpdatePrimaryKey\",\"\",\"runWhenPageLoads\",false,\"transformer\",\"// type your code here\\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\\nreturn data\",\"events\",[\"^D\",[]],\"tableName\",\"\",\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"databaseUsernameOverride\",\"\",\"shouldEnableBatchQuerying\",false,\"doNotThrowOnNoOp\",false,\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651189068427\",\"^A\",\"~m1651258683952\",\"^B\",\"retoolDatabaseQueries\",\"^C\",null]]],\"folders\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"folders\",\"^4\",\"datasource\",\"^5\",\"SqlQueryUnified\",\"^6\",null,\"^7\",\"91949560-c1a0-41ad-99e2-9557982af823\",\"^8\",\"Retool Audit Log\",\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"records\",\"\",\"lastReceivedFromResourceAt\",null,\"databasePasswordOverride\",\"\",\"queryDisabledMessage\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",true,\"showFailureToaster\",true,\"query\",\"-- Get a list of folders to populate that folderSelect component.\\n\\nselect \\n\\tid,\\n  name \\nfrom \\n\\tfolders\\ngroup by 1,2\\norder by 2 asc\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"privateParams\",[\"^D\",[]],\"runWhenPageLoadsDelay\",\"\",\"warningCodes\",[\"^D\",[]],\"data\",null,\"recordId\",\"\",\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"dataArray\",[\"^D\",[]],\"cacheKeyTtl\",\"\",\"filterBy\",\"\",\"databaseHostOverride\",\"\",\"metadata\",null,\"editorMode\",\"sql\",\"actionType\",\"\",\"changesetObject\",\"\",\"shouldUseLegacySql\",false,\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"databaseNameOverride\",\"\",\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"enableBulkUpdates\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"bulkUpdatePrimaryKey\",\"\",\"runWhenPageLoads\",false,\"transformer\",\"// type your code here\\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\\nreturn data\",\"events\",[\"^D\",[]],\"tableName\",\"\",\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"databaseUsernameOverride\",\"\",\"shouldEnableBatchQuerying\",false,\"doNotThrowOnNoOp\",false,\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651187121468\",\"^A\",\"~m1651248678037\",\"^B\",\"retoolDatabaseQueries\",\"^C\",null]]],\"appUsage\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"appUsage\",\"^4\",\"datasource\",\"^5\",\"SqlQueryUnified\",\"^6\",null,\"^7\",\"91949560-c1a0-41ad-99e2-9557982af823\",\"^8\",\"Retool Audit Log\",\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"records\",\"\",\"lastReceivedFromResourceAt\",null,\"databasePasswordOverride\",\"\",\"queryDisabledMessage\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",true,\"showFailureToaster\",true,\"query\",\"-- Parse the audit log to get app views and queries per app.\\n-- Note that the Retool database refers to apps as \\\"pages.\\\"\\n\\nselect \\n \\\"pageName\\\" as \\\"appName\\\",\\n f.name as \\\"folderName\\\",\\n sum(case when \\\"actionType\\\" = 'PAGE_VIEW' then 1 else 0 end) as pageviews,\\n sum(case when \\\"actionType\\\" = 'QUERY_RUN' then 1 else 0 end) as queries\\nfrom \\n\\taudit_trail_events e \\n  inner join pages p on e.\\\"pageName\\\" = p.name\\n  inner join folders f on p.\\\"folderId\\\" = f.id\\nwhere \\n\\t(\\\"actionType\\\" = 'PAGE_VIEW' or \\\"actionType\\\" = 'QUERY_RUN')\\n  and \\\"pageName\\\" ilike {{\\\"%\\\" + appInput.value + \\\"%\\\"}}\\n  and (f.id = any({{folderSelect.value}}) or {{folderSelect.value.length === 0}})\\n  and e.\\\"createdAt\\\" >= {{dateRange.value.start}}\\n  and e.\\\"createdAt\\\" <= {{dateRange.value.end}}\\ngroup by 1,2\\norder by 3 desc\\n\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"privateParams\",[\"^D\",[]],\"runWhenPageLoadsDelay\",\"\",\"warningCodes\",[\"^D\",[]],\"data\",null,\"recordId\",\"\",\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"dataArray\",[\"^D\",[]],\"cacheKeyTtl\",\"\",\"filterBy\",\"\",\"databaseHostOverride\",\"\",\"metadata\",null,\"editorMode\",\"sql\",\"actionType\",\"\",\"changesetObject\",\"\",\"shouldUseLegacySql\",false,\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"databaseNameOverride\",\"\",\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"enableBulkUpdates\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",true,\"showUpdateSetValueDynamicallyToggle\",true,\"bulkUpdatePrimaryKey\",\"\",\"runWhenPageLoads\",false,\"transformer\",\"\",\"events\",[\"^D\",[]],\"tableName\",\"\",\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"databaseUsernameOverride\",\"\",\"shouldEnableBatchQuerying\",false,\"doNotThrowOnNoOp\",false,\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651186196045\",\"^A\",\"~m1651258731646\",\"^B\",\"retoolDatabaseQueries\",\"^C\",null]]],\"appTable\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"appTable\",\"^4\",\"widget\",\"^5\",\"TableWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"showCustomButton\",false,\"sortMappedValue\",[\"^3\",[]],\"_filteredSortedRenderedDataWithTypes\",null,\"normalizedData\",null,\"saveChangesDisabled\",\"\",\"columnTypeProperties\",[\"^3\",[\"Custom Column 1\",[\"^3\",[\"showSeparators\",true,\"padDecimal\",true,\"decimalPlaces\",\"2\"]],\"Custom Column 2\",[\"^3\",[\"showSeparators\",true,\"padDecimal\",true,\"decimalPlaces\",\"2\"]],\"appName\",[\"^3\",[]]]],\"columnWidths\",[\"^D\",[[\"^ \",\"id\",\"appName\",\"value\",244.6640625],[\"^ \",\"id\",\"Custom Column 2\",\"^E\",125.1640625],[\"^ \",\"id\",\"__retool__action_list\",\"^E\",93.765625]]],\"showSummaryFooter\",false,\"disableRowSelectInteraction\",false,\"columnWidthsMobile\",[\"^D\",[]],\"hasNextAfterCursor\",\"\",\"columnTypeSpecificExtras\",[\"^3\",[]],\"onRowAdded\",\"\",\"columnHeaderNames\",[\"^3\",[\"appName\",\"App name\",\"folderName\",\"Folder name\",\"pageviews\",\"App views\",\"queries\",\"Queries\",\"Custom Column 1\",\"% of total views\",\"Custom Column 2\",\"% of total queries\"]],\"alwaysShowPaginator\",false,\"columnColors\",[\"^3\",[\"appName\",\"\",\"folderName\",\"\",\"pageviews\",\"\",\"queries\",\"\",\"pageName\",\"\",\"Custom Column 1\",\"{{ function() {\\n  if (self < quartiles.value.views25) {\\n    return gradient.data.firstQuartile\\n  } else if (self < quartiles.value.views50) {\\n    return gradient.data.secondQuartile\\n  } else if (self < quartiles.value.views75) {\\n    return gradient.data.thirdQuartile\\n  } else {\\n    return gradient.data.fourthQuartile\\n  }\\n }()\\n}}\",\"Custom Column 2\",\"{{ function() {\\n  if (self < quartiles.value.queries25) {\\n    return gradient.data.firstQuartile\\n  } else if (self < quartiles.value.queries50) {\\n    return gradient.data.secondQuartile\\n  } else if (self < quartiles.value.queries75) {\\n    return gradient.data.thirdQuartile\\n  } else {\\n    return gradient.data.fourthQuartile\\n  }\\n }()\\n}}\"]],\"columnFrozenAlignments\",[\"^3\",[]],\"allowMultiRowSelect\",false,\"columnFormats\",[\"^3\",[\"Custom Column 1\",\"PercentDataCell\",\"Custom Column 2\",\"PercentDataCell\",\"appName\",\"TextMultiDataCell\"]],\"columnRestrictedEditing\",[\"^3\",[]],\"showFilterButton\",true,\"_columnSummaryTypes\",[\"^3\",[\"Custom Column 1\",\"average\",\"Custom Column 2\",\"average\",\"appName\",\"\"]],\"_columnsWithLegacyBackgroundColor\",[\"~#iOS\",[]],\"showAddRowButton\",false,\"nextBeforeCursor\",\"\",\"columnVisibility\",[\"^3\",[\"appName\",true,\"folderName\",true,\"pageviews\",true,\"queries\",true,\"pageName\",true,\"Custom Column 1\",true,\"Custom Column 2\",true]],\"selectedPageIndex\",\"0\",\"applyDynamicSettingsToColumnOrder\",true,\"rowColor\",[],\"actionButtonColumnName\",\"App link\",\"resetAfterSave\",true,\"filterStackType\",\"and\",\"downloadRawData\",false,\"showFetchingIndicator\",true,\"serverPaginated\",false,\"data\",\"{{ appUsage.data }}\",\"displayedData\",null,\"actionButtons\",[\"^D\",[[\"^3\",[\"actionButtonText\",\"🔗\",\"actionButtonType\",\"openExternalUrl\",\"actionButtonQuery\",\"\",\"actionButtonInternalUrlPath\",\"\",\"actionButtonInternalUrlQuery\",\"\",\"actionButtonUrl\",\"{{`${urlparams.href.split('/editor')[0].split('/app')[0].split('/tree')[0]}/apps/${encodeURIComponent(appTable.selectedRow.data.folderName)}/${encodeURIComponent(appTable.selectedRow.data.appName)}`}}\",\"actionButtonNewWindow\",true,\"actionButtonDisabled\",\"\"]]]],\"actionButtonSelectsRow\",true,\"selectRowByDefault\",true,\"defaultSortByColumn\",\"\",\"paginationOffset\",0,\"columnAlignment\",[\"^3\",[\"Custom Column 1\",\"right\",\"Custom Column 2\",\"right\",\"appName\",\"left\"]],\"columnSummaries\",[\"^ \"],\"sortedDesc\",false,\"customButtonName\",\"\",\"columnMappersRenderAsHTML\",[\"^3\",[]],\"showRefreshButton\",true,\"pageSize\",13,\"useDynamicColumnSettings\",false,\"actionButtonPosition\",\"right\",\"dynamicRowHeights\",false,\"bulkUpdateAction\",\"\",\"afterCursor\",\"\",\"onCustomButtonPressQueryName\",\"\",\"changeSet\",[\"^ \"],\"sortedColumn\",\"\",\"_columnSummaryValues\",[\"^3\",[\"Custom Column 1\",\"\",\"Custom Column 2\",\"\",\"appName\",\"\"]],\"checkboxRowSelect\",true,\"_compatibilityMode\",false,\"showColumnBorders\",false,\"_renderedDataWithTypes\",null,\"columnAllowOverflow\",[\"^3\",[]],\"beforeCursor\",\"\",\"serverPaginationType\",\"limitOffsetBased\",\"onRowSelect\",\"\",\"showDownloadButton\",true,\"selectedIndex\",null,\"defaultSortDescending\",false,\"_sortedDisplayedDataIndices\",null,\"dynamicColumnSettings\",null,\"totalRowCount\",\"\",\"recordUpdates\",[],\"newRow\",null,\"emptyMessage\",\"No rows found\",\"columnEditable\",[\"^3\",[\"Custom Column 1\",false,\"Custom Column 2\",false]],\"_viewerColumnSummaryTypes\",[\"^ \"],\"filters\",[],\"displayedDataIndices\",null,\"disableSorting\",[\"^3\",[]],\"columnMappers\",[\"^3\",[\"Custom Column 1\",\"{{currentRow.pageviews / totals.data.pageviews}}\",\"Custom Column 2\",\"{{currentRow.queries / totals.data.queries}}\",\"appName\",\"\",\"folderName\",\"\"]],\"showClearSelection\",false,\"doubleClickToEdit\",true,\"overflowType\",\"pagination\",\"_reverseSortedDisplayedDataIndices\",null,\"selectedCell\",[\"^ \",\"index\",null,\"data\",null,\"columnName\",null],\"columns\",[\"^D\",[\"pageName\",\"appName\",\"folderName\",\"pageviews\",\"Custom Column 1\",\"queries\",\"Custom Column 2\"]],\"defaultSelectedRow\",\"first\",\"freezeActionButtonColumns\",false,\"sort\",null,\"sortByRawValue\",[\"^3\",[]],\"calculatedColumns\",[\"^D\",[\"Custom Column 1\",\"Custom Column 2\"]],\"selectedRow\",[\"^ \",\"^G\",null,\"^H\",null],\"showPaginationOnTop\",false,\"_reverseDisplayedDataIndices\",null,\"nextAfterCursor\",\"\",\"useCompactMode\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"rowGroup\",\"body\",\"subcontainer\",\"\",\"row\",1.6,\"col\",0,\"height\",17,\"width\",8,\"tabNum\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651186952146\",\"^A\",\"~m1651509075598\",\"^B\",\"\",\"^C\",null]]],\"folderSelect\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"folderSelect\",\"^4\",\"widget\",\"^5\",\"MultiselectWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"imageByIndex\",\"\",\"_disabledByIndex\",[\"^D\",[]],\"showSelectionIndicator\",true,\"_values\",[\"^D\",[]],\"iconByIndex\",\"\",\"values\",\"{{ item.id }}\",\"readOnly\",false,\"iconAfter\",\"\",\"_iconByIndex\",[\"^D\",[]],\"wrapTags\",true,\"selectedIndexes\",[],\"selectedItems\",[],\"inputValue\",\"\",\"hidden\",false,\"customValidation\",\"\",\"data\",\"{{ folders.data }}\",\"maxCount\",null,\"searchMode\",\"fuzzy\",\"hideValidationMessage\",false,\"fallbackTextByIndex\",\"\",\"textBefore\",\"\",\"_fallbackTextByIndex\",[\"^D\",[]],\"validationMessage\",\"\",\"automaticItemColors\",false,\"itemAdornmentShape\",\"circle\",\"textAfter\",\"\",\"showInEditor\",false,\"_defaultValue\",[],\"showClear\",false,\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",[],\"hiddenByIndex\",\"\",\"labelCaption\",\"\",\"labelWidth\",\"33\",\"deprecatedLabels\",[],\"_hiddenByIndex\",[\"^D\",[]],\"placeholder\",\"Select folders\",\"_captionByIndex\",[\"^D\",[]],\"itemAdornmentSize\",\"auto\",\"label\",\"\",\"_hasMigratedNestedItems\",true,\"captionByIndex\",\"\",\"_validate\",false,\"itemMode\",\"dynamic\",\"labelWidthUnit\",\"%\",\"allowCustomValue\",false,\"invalid\",false,\"_tooltipByIndex\",[\"^D\",[]],\"_colorByIndex\",[\"^D\",[]],\"tooltipByIndex\",\"\",\"iconBefore\",\"\",\"colorByIndex\",\"\",\"events\",[\"^3\",[]],\"_ids\",[\"^D\",[]],\"emptyMessage\",\"\",\"selectedLabels\",[],\"overlayMaxHeight\",375,\"loading\",false,\"disabled\",false,\"labelPosition\",\"left\",\"minCount\",null,\"_labels\",[\"^D\",[]],\"labelWrap\",false,\"disabledValues\",[],\"disabledByIndex\",\"\",\"maintainSpaceWhenHidden\",false,\"_imageByIndex\",[\"^D\",[]],\"required\",false,\"labels\",\"{{ item.name }}\"]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^J\",\"body\",\"^K\",\"\",\"row\",0.6,\"col\",4,\"^L\",1,\"^M\",4,\"^N\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651187041497\",\"^A\",\"~m1651187240188\",\"^B\",\"\",\"^C\",null]]],\"appInput\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"appInput\",\"^4\",\"widget\",\"^5\",\"TextInputWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"spellCheck\",false,\"readOnly\",false,\"iconAfter\",\"\",\"showCharacterCount\",false,\"autoComplete\",false,\"maxLength\",null,\"hidden\",false,\"customValidation\",\"\",\"patternType\",\"\",\"hideValidationMessage\",false,\"textBefore\",\"\",\"validationMessage\",\"\",\"textAfter\",\"\",\"showInEditor\",false,\"_defaultValue\",\"\",\"showClear\",false,\"pattern\",\"\",\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",\"\",\"labelCaption\",\"\",\"labelWidth\",\"33\",\"autoFill\",\"\",\"placeholder\",\"Search app names\",\"label\",\"\",\"_validate\",false,\"labelWidthUnit\",\"%\",\"invalid\",false,\"iconBefore\",\"\",\"minLength\",null,\"inputTooltip\",\"\",\"events\",[\"^3\",[]],\"autoCapitalize\",\"none\",\"loading\",false,\"disabled\",false,\"labelPosition\",\"left\",\"labelWrap\",false,\"maintainSpaceWhenHidden\",false,\"required\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^J\",\"body\",\"^K\",\"\",\"row\",0.6,\"col\",0,\"^L\",1,\"^M\",4,\"^N\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651187291934\",\"^A\",\"~m1651187311675\",\"^B\",\"\",\"^C\",null]]],\"title\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"title\",\"^4\",\"widget\",\"^5\",\"TextWidget2\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"heightType\",\"auto\",\"horizontalAlign\",\"left\",\"hidden\",false,\"imageWidth\",\"fit\",\"showInEditor\",false,\"verticalAlign\",\"center\",\"_defaultValue\",\"\",\"tooltipText\",\"\",\"value\",\"# Retool app usage\\n---\\nReporting on the **`{{urlparams.href.split('https://')[1].split('/editor')[0].split('/app')[0].split('/tree')[0]}}`** instance of Retool\",\"disableMarkdown\",false,\"overflowType\",\"scroll\",\"maintainSpaceWhenHidden\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^J\",\"body\",\"^K\",\"\",\"row\",0,\"col\",0,\"^L\",0.6,\"^M\",12,\"^N\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651187874087\",\"^A\",\"~m1651259114698\",\"^B\",\"\",\"^C\",null]]],\"gradient\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"gradient\",\"^4\",\"datasource\",\"^5\",\"JavascriptQuery\",\"^6\",null,\"^7\",\"JavascriptQuery\",\"^8\",null,\"^9\",[\"^3\",[\"queryRefreshTime\",\"\",\"lastReceivedFromResourceAt\",null,\"queryDisabledMessage\",\"\",\"successMessage\",\"\",\"queryDisabled\",\"\",\"playgroundQuerySaveId\",\"latest\",\"resourceNameOverride\",\"\",\"runWhenModelUpdates\",false,\"showFailureToaster\",true,\"query\",\"// Define colors to be used for % columns, one per quartile.\\nreturn {firstQuartile:\\\"#C9D9F8\\\", secondQuartile:\\\"#A4C2F4\\\", thirdQuartile:\\\"#6D9EEB\\\", fourthQuartile:\\\"#3B78D7\\\"}\",\"playgroundQueryUuid\",\"\",\"playgroundQueryId\",null,\"privateParams\",[\"^D\",[]],\"runWhenPageLoadsDelay\",\"\",\"data\",null,\"importedQueryInputs\",[\"^3\",[]],\"isImported\",false,\"showSuccessToaster\",true,\"cacheKeyTtl\",\"\",\"metadata\",null,\"changesetObject\",\"\",\"errorTransformer\",\"// The variable 'data' allows you to reference the request's data in the transformer. \\n// example: return data.find(element => element.isError)\\nreturn data.error\",\"confirmationMessage\",null,\"isFetching\",false,\"changeset\",\"\",\"rawData\",null,\"queryTriggerDelay\",\"0\",\"watchedParams\",[\"^D\",[]],\"enableErrorTransformer\",false,\"showLatestVersionUpdatedWarning\",false,\"timestamp\",0,\"importedQueryDefaults\",[\"^3\",[]],\"enableTransformer\",false,\"showUpdateSetValueDynamicallyToggle\",true,\"runWhenPageLoads\",true,\"transformer\",\"// type your code here\\n// example: return formatDataAsArray(data).filter(row => row.quantity > 20)\\nreturn data\",\"events\",[\"^D\",[]],\"queryTimeout\",\"10000\",\"requireConfirmation\",false,\"queryFailureConditions\",\"\",\"changesetIsObject\",false,\"enableCaching\",false,\"allowedGroups\",[\"^D\",[]],\"queryThrottleTime\",\"750\",\"updateSetValueDynamically\",false,\"notificationDuration\",\"\"]],\"^:\",null,\"^;\",null,\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651192122309\",\"^A\",\"~m1651248757965\",\"^B\",\"\",\"^C\",null]]],\"viewsChart\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"viewsChart\",\"^4\",\"widget\",\"^5\",\"PlotlyChartWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"dataseries\",[\"^3\",[\"0\",[\"^3\",[\"label\",\"pageviews\",\"datasource\",\"{{formatDataAsObject(topApps.value.topViews)['pageviews']}}\",\"chartType\",\"pie\",\"aggregationType\",\"sum\",\"color\",null,\"colors\",[\"^3\",[\"0\",\"#033663\",\"1\",\"#247BC7\",\"2\",\"#55A1E3\",\"3\",\"#DAECFC\",\"4\",\"#EECA86\",\"5\",\"#E9AB11\",\"6\",\"#D47E2F\",\"7\",\"#C15627\",\"8\",\"#224930\",\"9\",\"#238146\",\"10\",\"#55A874\"]],\"visible\",true,\"hovertemplate\",\"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>\"]],\"1\",[\"^3\",[\"label\",\"queries\",\"datasource\",\"{{formatDataAsObject(topApps.value.topViews)['queries']}}\",\"chartType\",\"pie\",\"aggregationType\",\"sum\",\"color\",null,\"colors\",[\"^3\",[\"0\",\"#033663\",\"1\",\"#247BC7\",\"2\",\"#55A1E3\",\"3\",\"#DAECFC\",\"4\",\"#EECA86\",\"5\",\"#E9AB11\",\"6\",\"#D47E2F\",\"7\",\"#C15627\",\"8\",\"#224930\",\"9\",\"#238146\",\"10\",\"#55A874\"]],\"visible\",false,\"hovertemplate\",\"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>\"]]]],\"isDataTemplateDirty\",false,\"datasource\",\"\",\"isJsonTemplateDirty\",false,\"groupByDropdown\",\"\",\"datasourceInputMode\",\"javascript\",\"datasourceDataType\",\"array\",\"layout\",\"\",\"xAxisDropdown\",\"appName\",\"data\",\"\",\"isStackSeriesEnabled\",false,\"xAxisTickFormat\",\"\",\"skipDatasourceUpdate\",false,\"datasourceJS\",\"{{topApps.value.topViews}}\",\"yAxisTickFormat\",\"\",\"datasourcePluginType\",\"function\",\"xAxisType\",\"default\",\"datasourcePluginId\",null,\"legendAlignment\",\"bottom\",\"isLayoutJsonDirty\",false,\"chartType\",\"pie\",\"title\",\"App views\",\"xAxis\",\"{{formatDataAsObject(topApps.value.topViews).appName}}\",\"groupByMode\",\"dropdown\",\"onPointSelectQuery\",\"\",\"xAxisMode\",\"dropdown\",\"shouldShowLegend\",false,\"yAxisTitle\",\"\",\"selectedPoints\",[],\"xAxisTitle\",\"\",\"groupByJS\",\"\"]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^J\",\"body\",\"^K\",\"\",\"row\",1.6,\"col\",8,\"^L\",8.2,\"^M\",4,\"^N\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651248857160\",\"^A\",\"~m1651509088258\",\"^B\",\"\",\"^C\",null]]],\"queriesChart\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"queriesChart\",\"^4\",\"widget\",\"^5\",\"PlotlyChartWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"dataseries\",[\"^3\",[\"0\",[\"^3\",[\"label\",\"pageviews\",\"datasource\",\"{{formatDataAsObject(topApps.value.topQueries)['pageviews']}}\",\"chartType\",\"pie\",\"aggregationType\",\"sum\",\"color\",null,\"colors\",[\"^3\",[\"0\",\"#033663\",\"1\",\"#247BC7\",\"2\",\"#55A1E3\",\"3\",\"#DAECFC\",\"4\",\"#EECA86\",\"5\",\"#E9AB11\",\"6\",\"#D47E2F\",\"7\",\"#C15627\",\"8\",\"#224930\",\"9\",\"#238146\",\"10\",\"#55A874\"]],\"visible\",false,\"hovertemplate\",\"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>\"]],\"1\",[\"^3\",[\"label\",\"queries\",\"datasource\",\"{{formatDataAsObject(topApps.value.topQueries)['queries']}}\",\"chartType\",\"pie\",\"aggregationType\",\"sum\",\"color\",null,\"colors\",[\"^3\",[\"0\",\"#033663\",\"1\",\"#247BC7\",\"2\",\"#55A1E3\",\"3\",\"#DAECFC\",\"4\",\"#EECA86\",\"5\",\"#E9AB11\",\"6\",\"#D47E2F\",\"7\",\"#C15627\",\"8\",\"#224930\",\"9\",\"#238146\",\"10\",\"#55A874\"]],\"visible\",true,\"hovertemplate\",\"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>\"]]]],\"isDataTemplateDirty\",true,\"datasource\",\"\",\"isJsonTemplateDirty\",false,\"groupByDropdown\",\"\",\"datasourceInputMode\",\"javascript\",\"datasourceDataType\",\"array\",\"layout\",\"\",\"xAxisDropdown\",\"appName\",\"data\",\"\",\"isStackSeriesEnabled\",false,\"xAxisTickFormat\",\"\",\"skipDatasourceUpdate\",false,\"datasourceJS\",\"{{topApps.value.topQueries}}\",\"yAxisTickFormat\",\"\",\"datasourcePluginType\",\"function\",\"xAxisType\",\"default\",\"datasourcePluginId\",null,\"legendAlignment\",\"left\",\"isLayoutJsonDirty\",false,\"chartType\",\"pie\",\"title\",\"Queries\",\"xAxis\",\"{{formatDataAsObject(topApps.value.topQueries).appName}}\",\"events\",[\"^D\",[]],\"groupByMode\",\"dropdown\",\"onPointSelectQuery\",\"\",\"xAxisMode\",\"dropdown\",\"shouldShowLegend\",false,\"yAxisTitle\",\"\",\"selectedPoints\",[],\"xAxisTitle\",\"\",\"groupByJS\",\"\"]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^J\",\"body\",\"^K\",\"\",\"row\",9.799999999999999,\"col\",8,\"^L\",8.6,\"^M\",4,\"^N\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651249046599\",\"^A\",\"~m1651259519057\",\"^B\",\"\",\"^C\",null]]],\"dateRange\",[\"^0\",[\"^ \",\"n\",\"pluginTemplate\",\"v\",[\"^ \",\"id\",\"dateRange\",\"^4\",\"widget\",\"^5\",\"DateRangeWidget\",\"^6\",null,\"^7\",null,\"^8\",null,\"^9\",[\"^3\",[\"minDate\",\"\",\"readOnly\",false,\"iconAfter\",\"\",\"dateFormat\",\"MMM d, yyyy\",\"hidden\",\"\",\"customValidation\",\"\",\"hideValidationMessage\",false,\"textBefore\",\"\",\"validationMessage\",\"\",\"textAfter\",\"\",\"showInEditor\",false,\"showClear\",false,\"tooltipText\",\"\",\"labelAlign\",\"left\",\"formDataKey\",\"{{ self.id }}\",\"value\",[\"^3\",[\"start\",\"{{ moment().subtract(6, 'months')}}\",\"end\",\"{{moment()}}\"]],\"startPlaceholder\",\"Start date\",\"labelCaption\",\"\",\"maxDate\",\"\",\"labelWidth\",\"33\",\"label\",\"\",\"formattedValue\",\"\",\"_validate\",false,\"labelWidthUnit\",\"%\",\"invalid\",false,\"iconBefore\",\"calendar\",\"endPlaceholder\",\"End date\",\"events\",[\"^3\",[]],\"textBetween\",\"-\",\"loading\",false,\"disabled\",false,\"labelPosition\",\"left\",\"labelWrap\",false,\"maintainSpaceWhenHidden\",false,\"required\",false]],\"^:\",[\"^3\",[]],\"^;\",[\"^0\",[\"^ \",\"n\",\"position2\",\"v\",[\"^ \",\"^?\",\"\",\"^J\",\"body\",\"^K\",\"\",\"row\",0.6,\"col\",8,\"^L\",1,\"^M\",4,\"^N\",0]]],\"^<\",null,\"^=\",null,\"^>\",null,\"^?\",\"\",\"^@\",\"~m1651258292135\",\"^A\",\"~m1651259580761\",\"^B\",\"\",\"^C\",null]]]]],\"^@\",null,\"version\",\"2.89.12\",\"appThemeId\",null,\"preloadedAppJavaScript\",null,\"preloadedAppJSLinks\",[],\"testEntities\",[],\"tests\",[],\"appStyles\",\"\",\"responsiveLayoutDisabled\",false,\"loadingIndicatorsDisabled\",false,\"urlFragmentDefinitions\",[\"^D\",[]],\"pageLoadValueOverrides\",[\"^D\",[]],\"customDocumentTitle\",\"\",\"customDocumentTitleEnabled\",false,\"customShortcuts\",[],\"isGlobalWidget\",false,\"isMobileApp\",false,\"multiScreenMobileApp\",false,\"folders\",[\"^D\",[\"retoolDatabaseQueries\",\"transformers\"]],\"queryStatusVisibility\",true,\"markdownLinkBehavior\",\"auto\",\"inAppRetoolPillAppearance\",\"NO_OVERRIDE\",\"rootScreen\",null,\"instrumentationEnabled\",false,\"experimentalPerfFeatures\",[\"^ \",\"batchCommitModelEnabled\",false,\"skipDepCycleCheckingEnabled\",false,\"serverDepGraphEnabled\",false]]]]"},"changesRecord":[{"type":"WIDGET_TEMPLATE_UPDATE","payload":{"plugin":{"id":"viewsChart","type":"widget","style":{},"folder":"","screen":null,"subtype":"PlotlyChartWidget","tabIndex":null,"template":{"data":"","title":"App views","xAxis":"{{formatDataAsObject(topApps.value.topViews).appName}}","layout":"","chartType":"pie","groupByJS":"","xAxisMode":"dropdown","xAxisType":"default","dataseries":{"0":{"label":"pageviews","colors":{"0":"#033663","1":"#247BC7","2":"#55A1E3","3":"#DAECFC","4":"#EECA86","5":"#E9AB11","6":"#D47E2F","7":"#C15627"},"visible":true,"chartType":"pie","datasource":"{{formatDataAsObject(topApps.value.topViews)['pageviews']}}","hovertemplate":"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>","aggregationType":"sum"},"1":{"label":"queries","colors":{"0":"#033663","1":"#247BC7","2":"#55A1E3","3":"#DAECFC","4":"#EECA86","5":"#E9AB11","6":"#D47E2F","7":"#C15627"},"visible":false,"chartType":"pie","datasource":"{{formatDataAsObject(topApps.value.topViews)['queries']}}","hovertemplate":"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>","aggregationType":"sum"}},"datasource":"","xAxisTitle":"","yAxisTitle":"","groupByMode":"dropdown","datasourceJS":"{{topApps.value.topViews}}","xAxisDropdown":"appName","selectedPoints":[],"groupByDropdown":"","legendAlignment":"bottom","xAxisTickFormat":"","yAxisTickFormat":"","shouldShowLegend":false,"isLayoutJsonDirty":false,"datasourceDataType":"array","datasourcePluginId":null,"onPointSelectQuery":"","datasourceInputMode":"javascript","isDataTemplateDirty":false,"isJsonTemplateDirty":false,"datasourcePluginType":"function","isStackSeriesEnabled":false,"skipDatasourceUpdate":false},"container":"","createdAt":"2022-04-29T16:14:17.160Z","namespace":null,"position2":{"col":8,"row":1.6,"width":4,"height":8.2,"tabNum":0,"rowGroup":"body","container":"","subcontainer":""},"updatedAt":"2022-05-02T16:26:54.002Z","resourceName":null,"mobilePosition2":null,"mobileAppPosition":null,"resourceDisplayName":null},"update":{"xAxis":"{{formatDataAsObject(topApps.value.topViews).appName}}","groupByJS":"","dataseries":{"0":{"label":"pageviews","colors":{"0":"#033663","1":"#247BC7","2":"#55A1E3","3":"#DAECFC","4":"#EECA86","5":"#E9AB11","6":"#D47E2F","7":"#C15627","8":"#224930","9":"#238146","10":"#55A874"},"visible":true,"chartType":"pie","datasource":"{{formatDataAsObject(topApps.value.topViews)['pageviews']}}","hovertemplate":"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>","aggregationType":"sum"},"1":{"label":"queries","colors":{"0":"#033663","1":"#247BC7","2":"#55A1E3","3":"#DAECFC","4":"#EECA86","5":"#E9AB11","6":"#D47E2F","7":"#C15627","8":"#224930","9":"#238146","10":"#55A874"},"visible":false,"chartType":"pie","datasource":"{{formatDataAsObject(topApps.value.topViews)['queries']}}","hovertemplate":"<b>%{x}</b><br>%{fullData.name}: %{y}<extra></extra>","aggregationType":"sum"}},"groupByMode":"dropdown","xAxisDropdown":"appName","groupByDropdown":"","datasourceDataType":"array","isStackSeriesEnabled":false},"widgetId":"viewsChart"},"isUserTriggered":true}],"gitSha":null,"checksum":null,"createdAt":"2022-05-02T16:31:30.442Z","updatedAt":"2022-05-02T16:31:30.442Z","pageId":204,"userId":57,"branchId":null},"modules":{}}